{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u8bf4\u660e","text":""},{"location":"#python","title":"Python \u73af\u5883","text":"<p>Python 3.10+</p>"},{"location":"#_2","title":"\u5b89\u88c5","text":"<pre><code>python3 -m pip install 'uvicorn[standard]'\npython3 -m uvicorn demo.main:app --port 5505\n</code></pre>"},{"location":"#_3","title":"\u793a\u4f8b","text":"<pre><code>from yast import Yast\nfrom yast.responses import JSONResponse\n\napp = Yast()\n\n@app.route('/')\nasync def index(request):\n    return JSONResponse({'demo': 'this is a demo'})\n\nif __name__ == '__main__':\n    uvicorn.run(app, host='0.0.0.0', port=8000)\n</code></pre>"},{"location":"#_4","title":"\u4f9d\u8d56\u5305","text":""},{"location":"#_5","title":"\u7c7b\u578b\u5b9a\u4e49","text":"<pre><code>import typing\n\nStrPairs = typing.Sequence[typing.Tuple[str, str]]\nStrDict = typing.Mapping[str, str]\n\nScope = typing.Mapping[str, typing.Any]\nMessage = typing.Mapping[str, typing.Any]\n\nReceive = typing.Callable[[], typing.Awaitable[Message]]\nSend = typing.Callable[[Message], typing.Awaitable[None]]\n\nASGIInstance = typing.Callable[[Receive, Send], typing.Awaitable[None]]\nASGIApp = typing.Callable[[Scope], ASGIInstance]\n</code></pre>"},{"location":"applications/","title":"{{title}}","text":""},{"location":"applications/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"applications/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"applications/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"background/","title":"{{title}}","text":""},{"location":"background/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"background/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"background/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"concurrency/","title":"{{title}}","text":""},{"location":"concurrency/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"concurrency/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"concurrency/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"config/","title":"{{title}}","text":""},{"location":"config/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"config/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"config/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"convertors/","title":"{{title}}","text":""},{"location":"convertors/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"convertors/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"convertors/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"endpoints/","title":"{{title}}","text":""},{"location":"endpoints/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"endpoints/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"endpoints/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"exceptions/","title":"{{title}}","text":""},{"location":"exceptions/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"exceptions/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"exceptions/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"formparsers/","title":"{{title}}","text":""},{"location":"formparsers/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"formparsers/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"formparsers/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"message_handler/","title":"{{title}}","text":""},{"location":"message_handler/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"message_handler/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"message_handler/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"requests/","title":"{{title}}","text":""},{"location":"requests/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"requests/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"requests/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"responses/","title":"{{title}}","text":""},{"location":"responses/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"responses/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"responses/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"routing/","title":"{{title}}","text":""},{"location":"routing/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"routing/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"routing/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"schemas/","title":"Schemas","text":""},{"location":"schemas/#_1","title":"\u8bf4\u660e","text":"<p>\u7528\u4e8e\u81ea\u52a8\u626b\u63cf\u76f8\u5173\u51fd\u6570\u6ce8\u91ca\uff0c\u5e76\u751f\u6210\u6587\u6863\u7ed3\u6784</p>"},{"location":"schemas/#apis","title":"APIs","text":"API \u8bf4\u660e Yast.schema_generator \u6587\u6863\u751f\u6210\u5668 Yast.schema \u6587\u6863\u7ed3\u6784"},{"location":"schemas/#_2","title":"\u793a\u4f8b","text":"<pre><code>from yast import Yast\nfrom yast.endpoints import HttpEndPoint\nfrom yast.schemas import SchemaGenerator\n\napp = Yast()\napp.schema_generator = SchemaGenerator(\n    {\n        \"openapi\": \"3.0.0\",\n        \"info\": {\n            \"title\": \"Example API\",\n            \"version\": \"1.0\",\n        },\n    }\n)\n\n@app.route(\"/schema\")\nclass SchemaEndPoint(HttpEndPoint):\n    def get(self, req):\n\"\"\"\n        responses:\n            200:\n                description: SchemaEndPoint\n                examples:\n                    [{\"name\": \"AAA\"}, {\"name\": \"BBB\"}]\n        \"\"\"\n        pass\n\n\ndef test_schema_generation():\n    assert app.schema == {\n        \"openapi\": \"3.0.0\",\n        \"info\": {\n            \"title\": \"Example API\",\n            \"version\": \"1.0\",\n        },\n        \"paths\": {\n            \"/schema\": {\n                \"get\": {\n                    \"responses\": {\n                        200: {\n                            \"description\": \"SchemaEndPoint\",\n                            \"examples\": [\n                                {\"name\": \"AAA\"},\n                                {\"name\": \"BBB\"},\n                            ],\n                        }\n                    }\n                }\n            }\n        },\n    }\n</code></pre>"},{"location":"staticfiles/","title":"StaticFiles","text":""},{"location":"staticfiles/#_1","title":"\u8bf4\u660e","text":"<p>\u9759\u6001\u6587\u4ef6\u5904\u7406\u6a21\u5757\uff0c\u4f8b\u5982: js, html, css, \u56fe\u7247\u7b49test assddf</p>"},{"location":"staticfiles/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"staticfiles/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"status/","title":"{{title}}","text":""},{"location":"status/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"status/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"status/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"testclient/","title":"TestClient","text":""},{"location":"testclient/#_1","title":"\u8bf4\u660e","text":"<p>\u8be5\u6a21\u5757\u53ef\u7528\u4e8e\u6a21\u62df\u8bf7\u6c42</p>"},{"location":"testclient/#_2","title":"\u793a\u4f8b","text":"<pre><code>from yast import Yast, TestClient\nfrom yast.responses import HTMLResponse\n\n\ndef app(scope):\n    async def asgi(recv, send):\n        await send({\n            \"type\": \"http.response.start\",\n            \"status\": 200,\n            'headers': [\n                (b'content-type', b'text/plain')\n            ]\n        })\n        await send({\n            \"type\": \"http.response.body\",\n            \"body\": b'Hello'\n        })\n    return asgi\n\n\ndef test_app():\n    client = TestClient(app)\n    res = client.get('/')\n    assert res.status_code == 200\n    assert res.text == 'Hello'\n</code></pre>"},{"location":"testclient/#api","title":"API","text":""},{"location":"testclient/#testclient_1","title":"TestClient:","text":"\u53c2\u6570 \u7c7b\u578b \u8bf4\u660e app typing.Callable[[Receive, Send], typing.Awaitable[None]] \u8bf7\u6c42\u5904\u7406\u5165\u53e3\uff0c\u9700\u8fd4\u56de \u5f02\u6b65\u8c03\u7528\u65b9\u6cd5\uff0c\u7528\u4e8e\u5904\u7406\u8bf7\u6c42"},{"location":"types/","title":"{{title}}","text":""},{"location":"types/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"types/#apis","title":"APIs","text":"API \u8bf4\u660e"},{"location":"types/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"utils/","title":"{{title}}","text":""},{"location":"utils/#_1","title":"\u8bf4\u660e","text":"<p>{{description}}</p>"},{"location":"utils/#apis","title":"APIs","text":"API \u8bf4\u660e {{APIs}}"},{"location":"utils/#_2","title":"\u793a\u4f8b","text":"<pre><code>#\n</code></pre>"},{"location":"websockets/","title":"WebSocket","text":""},{"location":"websockets/#_1","title":"\u8bf4\u660e","text":""},{"location":"websockets/#api","title":"API","text":""},{"location":"websockets/#_2","title":"\u793a\u4f8b","text":""}]}