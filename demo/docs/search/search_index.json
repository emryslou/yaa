{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u8bf4\u660e","text":""},{"location":"#python","title":"Python \u73af\u5883","text":"<p>Python 3.10+</p>"},{"location":"#_2","title":"\u5b89\u88c5","text":"<pre><code># todo next ...\n</code></pre>"},{"location":"#_3","title":"\u793a\u4f8b","text":"<pre><code>from yast import Yast\nfrom yast.responses import JSONResponse\n\napp = Yast()\n\n@app.route('/')\nasync def index(request):\n    return JSONResponse({'demo': 'this is a demo'})\n\nif __name__ == '__main__':\n    uvicorn.run(app, host='0.0.0.0', port=8000)\n</code></pre>"},{"location":"#_4","title":"\u4f9d\u8d56\u5305","text":""},{"location":"testclient/","title":"\u8bf4\u660e","text":"<p>\u8be5\u6a21\u5757\u53ef\u7528\u4e8e\u6a21\u62df\u8bf7\u6c42</p>"},{"location":"testclient/#_2","title":"\u793a\u4f8b","text":"<pre><code>from yast import Yast, TestClient\nfrom yast.responses import HTMLResponse\n\n\ndef app(scope):\n    async def asgi(recv, send):\n        await send({\n            \"type\": \"http.response.start\",\n            \"status\": 200,\n            'headers': [\n                (b'content-type', b'text/plain')\n            ]\n        })\n        await send({\n            \"type\": \"http.response.body\",\n            \"body\": b'Hello'\n        })\n    return asgi\n\n\ndef test_app():\n    client = TestClient(app)\n    res = client.get('/')\n    assert res.status_code == 200\n    assert res.text == 'Hello'\n</code></pre>"},{"location":"testclient/#api","title":"API","text":"<p>TestClient:     app: \u8bf7\u6c42\u5904\u7406\u5165\u53e3\uff0c\u9700\u8fd4\u56de \u5f02\u6b65\u8c03\u7528\u65b9\u6cd5\uff0c\u7528\u4e8e\u5904\u7406\u8bf7\u6c42</p>"}]}